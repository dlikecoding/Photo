import{o as p,c as o,t as c,i as m,b as l,d as u,s as y,A as g,e as $,u as C,a as _,M as d,I as w,D as M,S as b}from"./index-DEGSL-2v.js";import V from"./NotFound-BIA5YLEP.js";import{L as x}from"./Loading-DyQQoSrW.js";import{f as T}from"./fetching-DWZPZ03v.js";import{u as f}from"./ManageUrl-DQr7D2w5.js";import{n as v}from"./helper-Ay89jTCi.js";const k="_groupContainer_1ax5n_6",P="_mediaContainer_1ax5n_18",A="_monthViewContainer_1ax5n_26",F="_overlayTitle_1ax5n_34",I="_titleMonthView_1ax5n_58",L="_overlayTime_1ax5n_63",N="_years_1ax5n_70",s={groupContainer:k,mediaContainer:P,monthViewContainer:A,overlayTitle:F,titleMonthView:I,overlayTime:L,years:N};var Y=c("<div inert><h3>"),q=c("<div inert>"),R=c('<img inert loading=lazy alt="Year Photos">',!0,!1);const S=i=>{const t=()=>i.photo,{params:a,updatePage:n}=f();let r;return p(()=>{requestAnimationFrame(()=>{!a.year||!r||r.scrollIntoView({behavior:"instant",block:"center"})})}),o(g,{ref:e=>{t().create_year===a.year&&(r=e)},get class(){return s.mediaContainer},onClick:()=>n({year:t().create_year,month:t().create_month}),href:"/library/month",get children(){return[(()=>{var e=Y(),h=e.firstChild;return m(h,()=>t().create_year),l(()=>u(e,s.overlayTitle)),e})(),(()=>{var e=q();return m(e,()=>v(t().create_month)),l(()=>u(e,`${s.overlayTime} ${s.years}`)),e})(),(()=>{var e=R();return l(()=>y(e,"src",t().thumb_path)),e})()]}})};var z=c("<h3 inert> "),D=c('<img inert loading=lazy alt="Month Photos">',!0,!1);const U=i=>{const t=()=>i.photo,{params:a,updatePage:n}=f();let r;return p(()=>{requestAnimationFrame(()=>{!a.year||!a.month||!r||r.scrollIntoView({behavior:"instant",block:"center"})})}),o(g,{ref:e=>{t().create_year===a.year&&t().create_month===a.month&&(r=e)},get class(){return s.monthViewContainer},onClick:()=>n({year:t().create_year,month:t().create_month}),href:"/library/all",get children(){return[(()=>{var e=z(),h=e.firstChild;return m(e,()=>v(t().create_month),h),m(e,()=>t().create_year,null),l(()=>u(e,s.titleMonthView)),e})(),(()=>{var e=D();return l(()=>y(e,"src",t().thumb_path)),e})()]}})};var B=c("<main>");const Q=()=>{const[i]=$(T),t=C(),a=_(()=>t.pathname==="/library/"),n=_(()=>{const r=i();return r?a()?E(r):r:[]});return(()=>{var r=B();return m(r,o(b,{get fallback(){return o(V,{errorCode:"Not Found 404",message:"No data available for the selected period."})},get children(){return[o(d,{get when(){return i.loading},get children(){return o(x,{})}}),o(d,{get when(){return n().length>0},get children(){return o(w,{get each(){return n()},children:e=>o(M,{get component(){return a()?S:U},get photo(){return e()}})})}})]}})),l(()=>u(r,`mainHomePage ${s.groupContainer}`)),r})()},E=i=>{const t=new Set;return i.filter(a=>{const n=a.create_year;return t.has(n)?!1:(t.add(n),!0)})};export{Q as default};
