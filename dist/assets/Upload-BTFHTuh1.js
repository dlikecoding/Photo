import{f as T,p as U,c as g,P as w,k as O,t as v,i as B,v as D,b as R,d as i,n as G}from"./index-DEGSL-2v.js";import{I as X}from"./ImportLoading-_Wdyktms.js";import{n as Z}from"./svgIcons-CWi8yQy6.js";import{E as j}from"./fetching-DWZPZ03v.js";const q="_uploadDialog_blrcg_2",K="_checkboxLabel_blrcg_26",N="_dialogTitle_blrcg_36",V="_instructionsContent_blrcg_43",Y="_checkboxInput_blrcg_48",H="_dialogActions_blrcg_59",J="_confirmButton_blrcg_76",n={uploadDialog:q,checkboxLabel:K,dialogTitle:N,instructionsContent:V,checkboxInput:Y,dialogActions:H,confirmButton:J};var Q=v("<button popovertarget=upload-contents>"),W=v("<div popover=auto id=upload-contents><h2>Upload Instructions</h2><div><p>Each file should have a <b>size</b> of less than <b>1 GB</b>.</p><p>The <b>total size</b> of all files should not exceed <b>2 GB</b> per session.</p><p>Before uploading, select the <b>Most Compatible</b> option:</p><ul><li>Photo Library → Options → <u>Most Compatible</u></li></ul></div><div><input type=checkbox id=enabledAI><label for=enabledAI>Computer Vision for Searching (<!>)</label></div><div><button>Cancel</button><button>OK"),ee=v('<input type=file id=fileInput accept="image/*, video/*"multiple required>');const L=1024*1024*1024,te=2*L,oe=1*L,ae=()=>{const[f,r]=T({mesg:"",isRunning:!1}),[h,P]=U(0);let u=null,c=null;const p=(t="")=>{c&&(c.value=""),t!==""&&r({mesg:t,isRunning:!1})},F=async t=>{r({mesg:"Started Uploading...",isRunning:!0});const l=t.target;if(!l.files)return;const d=Array.from(l.files);let o=0;const s=new FormData;if(d.forEach(a=>{if(a.size>=oe)return p("File size over limited");o+=a.size,s.append("uploadFiles",a)}),o>te)return p("Total size exceed limit!");await j(r,s,h()),p()},M=()=>{u?.hidePopover(),c?.click()};return[g(O,{get when(){return f.mesg},get children(){return g(w,{get children(){return g(X,{streamMesg:f,setStreamMesg:r})}})}}),(()=>{var t=Q();return B(t,Z),t})(),(()=>{var t=W(),l=t.firstChild,d=l.nextSibling,o=d.nextSibling,s=o.firstChild,a=s.nextSibling,z=a.firstChild,m=z.nextSibling;m.nextSibling;var _=o.nextSibling,b=_.firstChild,x=b.nextSibling;return D(e=>u=e,t),o.style.setProperty("justify-content","center"),o.style.setProperty("gap","5px"),o.style.setProperty("padding-bottom","10px"),s.addEventListener("change",()=>P(e=>e===0?1:0)),B(a,()=>h()?"Enabled":"Disabled",m),b.$$click=()=>u?.hidePopover(),x.$$click=M,R(e=>{var S=n.uploadDialog,y=n.dialogTitle,I=n.instructionsContent,k=n.checkboxLabel,C=n.checkboxInput,A=n.dialogActions,E=n.cancelButton,$=n.confirmButton;return S!==e.e&&i(t,e.e=S),y!==e.t&&i(l,e.t=y),I!==e.a&&i(d,e.a=I),k!==e.o&&i(o,e.o=k),C!==e.i&&i(s,e.i=C),A!==e.n&&i(_,e.n=A),E!==e.s&&i(b,e.s=E),$!==e.h&&i(x,e.h=$),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),t})(),(()=>{var t=ee();return t.addEventListener("change",F),D(l=>c=l,t),t.style.setProperty("display","none"),t})()]};G(["click"]);export{ae as default};
