import{p as T,e as G,a as x,o as E,t as g,i as s,c as u,k as S,b as c,d as o,s as k,F as I,A as H,m as P,n as K}from"./index-DEGSL-2v.js";import{d as U,e as j}from"./fetching-DWZPZ03v.js";import{u as z}from"./ManageUrl-DQr7D2w5.js";import{a as D}from"./svgIcons-CWi8yQy6.js";const O="_searchMain_1y8nd_2",W="_header_1y8nd_9",Y="_groupSearch_1y8nd_17",q="_clearBtn_1y8nd_64",J="_searchResult_1y8nd_82",Q="_suggestionBtn_1y8nd_96",V="_error_1y8nd_123",X="_notfound_1y8nd_130",Z="_resultsHeader_1y8nd_140",ee="_imageContainer_1y8nd_154",te="_libraryGrid_1y8nd_158",re="_imageLink_1y8nd_164",ne="_headerImage_1y8nd_202",ae="_disableLink_1y8nd_227",a={searchMain:O,header:W,groupSearch:Y,clearBtn:q,searchResult:J,suggestionBtn:Q,error:V,notfound:X,resultsHeader:Z,imageContainer:ee,libraryGrid:te,imageLink:re,headerImage:ne,disableLink:ae};var ie=g('<button aria-label="Clear search input">'),se=g("<div>An error occurred: "),oe=g("<div><h3> Photos"),A=g("<div>"),le=g('<main><h1>Search</h1><div><input type=text placeholder="Find photos by input a sentence..."></div><div></div><div>'),de=g("<button><span></span><span>"),ce=g('<div><h3>No Results Found</h3><p>No matches for "<!>." Try another search.'),ue=g("<img loading=lazy>",!0,!1),ge=g('<div><img inert alt="Blurred background"><img inert alt="Main visual">');const he=250,fe=()=>{const{resetParams:b,updatePage:v}=z(),[t,m]=T(""),[l]=G(t,U),h=x(()=>l()?.data||[]),p=x(()=>l()?.suggestCount||[]),f=x(()=>h()[0]?.total_count||0);E(async()=>{b(),await j()});const F=$=>{const y=t().trim().split(" ");y[y.length-1]=$,m(y.join(" ")+" ")},N=ve(m,he),R=()=>t()&&v({searchKey:t()});return(()=>{var $=le(),y=$.firstChild,C=y.nextSibling,B=C.firstChild,w=C.nextSibling,L=w.nextSibling;return s($,u(S,{get when(){return h().length},get children(){return u(_e,{get image(){return h()[0].thumb_path}})}}),C),B.$$input=e=>N(e.currentTarget.value),s(C,u(S,{get when(){return t()},get children(){var e=ie();return e.$$click=()=>m(""),s(e,D),c(()=>o(e,a.clearBtn)),e}}),null),s(w,u(I,{get each(){return p()},children:e=>(()=>{var r=de(),n=r.firstChild,d=n.nextSibling;return r.$$click=()=>F(e.word),s(n,()=>e.word),s(d,()=>e.ndoc),c(i=>{var _=a.suggestionBtn,M=`Suggestion: ${e.word}`;return _!==i.e&&o(r,i.e=_),M!==i.t&&k(r,"aria-label",i.t=M),i},{e:void 0,t:void 0}),r})()})),s($,u(S,{get when(){return l.error},get children(){var e=se();return e.firstChild,s(e,()=>l.error.message,null),c(()=>o(e,a.error)),e}}),L),s(L,u(S,{get when(){return h().length},get fallback(){return(()=>{var e=ce(),r=e.firstChild,n=r.nextSibling,d=n.firstChild,i=d.nextSibling;return i.nextSibling,r.style.setProperty("border","none"),s(n,t,i),c(()=>o(e,a.notfound)),e})()},get children(){return[(()=>{var e=oe(),r=e.firstChild,n=r.firstChild;return s(r,f,n),s(e,u(H,{get href(){return P(()=>!!t())()?`/search/${t()}`:"#"},get classList(){return{[a.disableLink]:!t()||!f()}},onClick:R,children:"See All"}),null),c(()=>o(e,a.resultsHeader)),e})(),(()=>{var e=A();return s(e,u(I,{get each(){return h()},children:r=>u(H,{get href(){return P(()=>!!t())()?`/search/${t()}/${r.media_id}`:"#"},get classList(){return{[a.imageLink]:!0,[a.disableLink]:!t()}},onClick:R,get children(){return[u(S,{get when(){return r.favorite},get children(){var n=A();return c(()=>o(n,a.overlayFavorite)),n}}),(()=>{var n=ue();return c(d=>{var i=r.thumb_path,_=r.caption;return i!==d.e&&k(n,"src",d.e=i),_!==d.t&&k(n,"alt",d.t=_),d},{e:void 0,t:void 0}),n})()]}})})),c(()=>o(e,a.libraryGrid)),e})()]}})),c(e=>{var r=`mainHomePage ${a.searchMain}`,n=a.header,d=a.groupSearch,i=a.searchResult,_=a.imageContainer;return r!==e.e&&o($,e.e=r),n!==e.t&&o(y,e.t=n),d!==e.a&&o(C,e.a=d),i!==e.o&&o(w,e.o=i),_!==e.i&&o(L,e.i=_),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),c(()=>B.value=t()),$})()},_e=b=>(()=>{var v=ge(),t=v.firstChild,m=t.nextSibling;return c(l=>{var h=a.headerImage,p=b.image,f=b.image;return h!==l.e&&o(v,l.e=h),p!==l.t&&k(t,"src",l.t=p),f!==l.a&&k(m,"src",l.a=f),l},{e:void 0,t:void 0,a:void 0}),v})();function ve(b,v){let t;return(...m)=>{clearTimeout(t),t=setTimeout(()=>b(...m),v)}}K(["input","click"]);export{fe as default};
